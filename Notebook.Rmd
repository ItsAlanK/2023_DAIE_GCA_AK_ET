---
title: "Virtual Reality Interventions: Evaluating Efficacy in the Treatment of GAD"
author: "Alan Kinsela, Erik Trujillo"
date: "13/12/2023"
output: html_document
---

<!-- This is what a comment looks like-->
### Table of Contents

1. [Setup](#setup)
2. [Data Loading](#data-load)
3. [Initial Inspection](#inspection)
4. [Data Cleanup](#cleanup)
5. [Abstract](#abstract)
6. [Introduction](#introduction)
7. [Method](#method)
8. [Results](#results)
9. [Discussion](#discussion)
10. [References](#references)

### Setup <a name="setup"></a>
```{r include=FALSE}

# install.packages("tidyverse")
if(!require("knitr"))
library(knitr)

# Load the packages, loading tidyverse for readr, dplyr, magrittr, and ggplot2
if(!require("tidyverse"))
library(tidyverse)
```


```{r} 
#Setting this up to define all chunks to show both code and output: 
knitr::opts_chunk$set(echo = TRUE)

```

### Data Loading <a name="data-load"></a>
Loading our Datasets into R Studio
```{r} 
control_group <- read_csv("GROUP_12_2023_GCA_RESULTS_CONTROL.csv")
experimental_group <- read_csv("GROUP_12_2023_GCA_RESULTS_EXPERIMENTAL.csv")

```

### Initial Inspection <a name="inspection"></a>
Initial inspection shows the same data types on both datasets. Patients are categorized by gender, and there are numeric scores for Generalized Anxiety Disorder (GAD) and State-Trait Anxiety Inventory (STAI). We have results both for pretrial testing and post trial testing. 
```{r} 
# Display the first few rows of the datasets
 head(control_group)
 head(experimental_group)
```

The summary is showing some insight on how the data is distributed, there are also some outliers within minimum values in scores that might need to be looked at during our cleaning process. 
```{r} 
# Summary of the datasets 
 summary(control_group)
 summary(experimental_group)
```

### Data Cleanup <a name="cleanup"></a>
```{r include=FALSE}
# Check for missing values
cntlMissingCount <- sum(is.na(control_group)) 
expMissingCount <- sum(is.na(experimental_group)) 

# Verifying data types 
cntlDataTypes <- str(control_group) 
expDataTypes <- str(experimental_group) 

```

During the data cleanup stage we check for any missing values and found `r cntlMissingCount` missing values in the control group and `r expMissingCount` missing values in the experimental group meaning no participants need to be thrown out for lack of data.

Upon inspecting data types by viewing the structure of the data, all data types match what they should:

- Patient ID, and test results are all numbers
- Gender are all character strings


### Filtering values outside of test boundaries 
```{r echo=FALSE}
control_group_cleaned <- control_group %>% filter(pretrial_GAD >= 0, pretrial_STAI >= 20, posttrial_GAD >= 0, posttrial_STAI >= 20, pretrial_GAD <= 21, pretrial_STAI <= 80, posttrial_GAD <= 21, posttrial_STAI <= 80)
```

``` {r echo=FALSE}
experimental_group_cleaned <- experimental_group %>% filter(pretrial_GAD >= 0, pretrial_STAI >= 0, posttrial_GAD >= 0, posttrial_STAI >= 0, , pretrial_GAD <= 21, pretrial_STAI <= 80, posttrial_GAD <= 21, posttrial_STAI <= 80) 

summary(control_group_cleaned) 

summary(experimental_group_cleaned) 
```

Data has also been cleaned above to remove any test responses outside of the test boundaries. GAD test have a lower score limit of 0 and an upper limit of 21, while STAI has a lower and upper limit of 20 and 80 respectively. When compared to earlier data chats we can see that no values min or max for any test lie outside of expected results now and we have no null or incorrect types values either. See [references for sources on test boundaries](#references)

### Hypothesis Formulation

After reviewing the data Superficially. We have come to following hypothesis:

Null Hypothesis (H0): VR-based therapy does not have a significant difference in effectiveness from traditional CBT in treating Generalized Anxiety Disorder (GAD).

Alternative Hypothesis (H1): Traditional CBT therapy is significantly more effective than VR-based therapy in treating Generalized Anxiety Disorder (GAD).

### Data deep dive 


### Abstract <a name="abstract"></a>



### Introduction <a name="introduction"></a>




### Method <a name="method"></a>




### Results <a name="results"></a>




### Discussion <a name="discussion"></a>




### References <a name="references"></a>


- [Code for Knitr](https://argoshare.is.ed.ac.uk/healthyr_book/the-anatomy-of-a-notebook-r-markdown-file.html)
- [STAI Min & Max values](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6945947/#:~:text=Each%20question%20is%20rated%20on,T%20and%20STAI%2DS%20subscales.)
- [GAD Min & Max values](https://www.corc.uk.net/outcome-experience-measures/generalised-anxiety-disorder-assessment-gad-7/#:~:text=GAD%2D7%20total%20score%20for%20the%20seven%20items%20ranges%20from%200%20to%2021.)